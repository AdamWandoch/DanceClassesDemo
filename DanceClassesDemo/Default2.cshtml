@{
    Layout = "~/Shared/_SiteLayout.cshtml";
    Page.Title = "Home";
    var records = MainPostHandler.GetEntries();
    var grid = new WebGrid(records);

    var greeting = "No one logged in..";
    if (!string.IsNullOrEmpty(Account.Current.Username))
    {
        greeting = $"Hello {Account.Current.Username}!";
    }
}

<div class="centered">
    <h1 class="mt-5">@greeting</h1>
    <p class="lead">Learning the basics. Paso a paso.</p>

    <p><h3>Please fill in the form below</h3></p>

    <form name="post" method="post" action="~/post.ashx">
        <p>Your Email: <br /><input type="text" name="entryEmail" style="width:220px" /></p>
        <p>Entry title: <br /><input type="text" name="entryTitle" style="width:220px" /></p>
        <p>Entry description: <br /><textarea name="entryDescription" style="width:220px"></textarea></p>
        <p><input type="submit" value="Submit" style="height:50px; width:220px" id="submit" /></p>
    </form>

    <h3>Records in <br />DanceClassesDB.Entries:</h3>

    @grid.GetHtml(
    tableStyle: "grid",
    columns: grid.Columns(
             grid.Column("Email"),
             grid.Column("Title"),
             grid.Column("Description"),
             grid.Column("DateCreated", header: "Created")))

    @{
        for (int i = 0; i < 20; i++)
        {
            <p>Some text..</p>
        }
    }
</div>
